{"version":3,"sources":["hooks/useStakedTokenPriceInDollars.ts","../node_modules/react-countdown/dist/index.es.js","components/Icon/Icon.tsx","components/icons/AddIcon.tsx","components/icons/RemoveIcon.tsx","components/IconButton/IconButton.tsx","components/PageHeader/PageHeader.tsx","hooks/useEarnings.ts","hooks/useHarvest.ts","views/Bank/components/Harvest.tsx","hooks/useStake.ts","hooks/useStakedBalance.ts","hooks/useWithdraw.ts","views/Bank/components/DepositModal.tsx","views/Bank/components/WithdrawModal.tsx","views/Bank/components/Stake.tsx","hooks/useBank.ts","hooks/useStatsForPool.ts","hooks/useRedeem.ts","views/Bank/Bank.tsx","../node_modules/@material-ui/core/esm/CardActions/CardActions.js","views/Moon/MoonCard.js","hooks/useBanks.ts","views/Moon/Moon.js","hooks/useApprove.ts","components/UnlockWallet/UnlockWallet.tsx","components/Spacer/Spacer.tsx","components/Value/Value.tsx"],"names":["useStakedTokenPriceInDollars","stakedTokenName","stakedToken","useState","stakedTokenPriceInDollars","setStakedTokenPriceInDollars","bnbmFinance","useBnbmFinance","isUnlocked","fetchBalance","useCallback","a","getDepositTokenPriceInDollars","balance","useEffect","catch","err","console","error","stack","refreshStakedTokenPriceInDollars","setInterval","config","refreshInterval","clearInterval","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_inherits","subClass","superClass","create","constructor","value","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_possibleConstructorReturn","self","call","ReferenceError","_assertThisInitialized","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","e","_isNativeReflectConstruct","result","Super","NewTarget","this","arguments","apply","_toConsumableArray","arr","Array","isArray","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","minLen","n","slice","name","test","_unsupportedIterableToArray","_nonIterableSpread","len","arr2","zeroPad","undefined","strValue","String","match","prefix","suffix","strNo","paddedNo","map","join","concat","timeDeltaFormatOptionsDefaults","daysInHours","zeroPadTime","formatTimeDelta","timeDelta","options","days","hours","minutes","seconds","_Object$assign","assign","_Object$assign$zeroPa","zeroPadDays","zeroPadTimeLength","Math","min","formattedHours","Countdown","_React$Component","_super","_this","state","count","startCountdown","interval","window","stopCountdown","onComplete","setState","prevState","addTime","children","cloneElement","Component","propTypes","number","element","func","Countdown$1","mounted","initialTimestamp","calcOffsetStartTimestamp","offsetStartTimestamp","autoStart","offsetTime","legacyMode","legacyCountdownRef","createRef","tick","calcTimeDelta","callback","completed","overtime","onTick","setTimeDeltaState","start","isStarted","prevOffsetStartTimestamp","onStart","controlled","clearTimer","intervalDelay","pause","isPaused","onPause","stop","isStopped","onStop","isStatus","isCompleted","handleOnComplete","date","status","onMount","prevProps","_this$props","now","precision","startTimestamp","_options$now","_options$precision","_options$offsetTime","getTime","timeLeft","clampedPrecision","max","total","round","parseFloat","toFixed","abs","floor","milliseconds","Number","current","_this2","completedCallback","newStatus","api","_this$props2","getApi","formatted","_this$props3","_children","createElement","ref","_this$props4","className","renderer","renderProps","getRenderProps","countdown","_renderProps$formatte","defaultProps","oneOfType","instanceOf","string","bool","StyledIcon","styled","div","Icon","AddIcon","color","themeColor","useContext","ThemeContext","height","viewBox","width","d","fill","grey","RemoveIcon","StyledButton","button","disabled","StyledLink","Link","theme","spacing","IconButton","onClick","to","StyledPageHeader","StyledTitle","h3","StyledSubtitle","PageHeader","icon","subtitle","title","useEarnings","poolName","earnTokenName","poolId","BigNumber","setBalance","earnedFromBank","myAccount","refreshBalance","useHarvest","bank","handleTransactionReceipt","useHandleTransactionReceipt","onReward","harvest","contract","StyledCardHeader","StyledCardActions","StyledCardContentInner","Harvest","earnings","bnbmStats","useBnbmStats","cabStats","useShareStats","tokenName","tokenStats","tokenPriceInDollars","useMemo","priceInDollars","earnedInDollars","getDisplayBalance","Card","CardContent","CardIcon","TokenSymbol","symbol","earnToken","Value","Label","text","Button","size","eq","variant","useStake","onStake","amount","amountBn","parseUnits","depositToken","decimal","stake","depositTokenName","useStakedBalance","stakedBalanceOnBank","useWithdraw","onWithdraw","unstake","DepositModal","decimals","onConfirm","onDismiss","val","setVal","fullBalance","getFullDisplayBalance","handleChange","currentTarget","handleSelectMax","Modal","ModalTitle","TokenInput","onSelectMax","onChange","ModalActions","WithdrawModal","StyledActionSpacer","Stake","useApprove","address","approveStatus","approve","useWallet","bnbBalance","_tokenBalance","useTokenBalance","stakedBalance","onZap","useZap","useModal","isNaN","onDismissDeposit","onPresentDeposit","ZapModal","zappingToken","onDissmissZap","onDismissWithdraw","onPresentWithdraw","ApprovalState","APPROVED","closedForStaking","PENDING","UNKNOWN","style","marginTop","useBank","contractName","BanksContext","banks","find","useStatsForPool","poolAPRs","setPoolAPRs","log","fetchAPRsForPool","getPoolAPRs","useRedeem","onRedeem","exit","useStyles","makeStyles","gridItem","breakpoints","up","LPTokenHelpText","pairName","uniswapUrl","bnbmAddr","BNBM","carAddr","SBNB","includes","href","BankNotFound","Center","StyledBank","primary","main","StyledCardsWrapper","StyledCardWrapper","Bank","scrollTo","classes","bankId","useParams","account","statsOnPool","Box","Grid","container","justify","marginBottom","item","xs","md","lg","textAlign","yearlyAPR","dailyAPR","TVL","mt","Spacer","UnlockWallet","CardActions","React","_props$disableSpacing","disableSpacing","other","_objectWithoutProperties","_extends","clsx","root","withStyles","display","alignItems","padding","marginLeft","MoonCard","position","right","top","borderRadius","justifyContent","toUpperCase","Typography","fee","alloc","fontSize","component","useBanks","Moon","path","useRouteMatch","activeBanks","filter","finished","Page","exact","Helmet","Container","maxWidth","hidden","sectionInUI","Fragment","APPROVE_AMOUNT","ethers","constants","MaxUint256","APPROVE_BASE_AMOUNT","token","spender","pendingApproval","useHasPendingApproval","currentAllowance","useAllowance","approvalState","lt","NOT_APPROVED","addTransaction","useTransactionAdder","response","summary","approval","tokenAddress","left","transform","AccountButton","StyledSpacer","s","StyledValue"],"mappings":"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","file":"static/js/11.1fe2a7b2.chunk.js","sourcesContent":["import {useCallback, useEffect, useState} from 'react';\r\n\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport config from '../config';\r\nimport ERC20 from '../bnbm-finance/ERC20';\r\n\r\nconst useStakedTokenPriceInDollars = (stakedTokenName: string, stakedToken: ERC20) => {\r\n  const [stakedTokenPriceInDollars, setStakedTokenPriceInDollars] = useState('0');\r\n  const bnbmFinance = useBnbmFinance();\r\n  const isUnlocked = bnbmFinance?.isUnlocked;\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await bnbmFinance.getDepositTokenPriceInDollars(stakedTokenName, stakedToken);\r\n    setStakedTokenPriceInDollars(balance);\r\n  }, [stakedToken, stakedTokenName, bnbmFinance]);\r\n\r\n  useEffect(() => {\r\n    if (isUnlocked) {\r\n      fetchBalance().catch((err) => console.error(err.stack));\r\n\r\n      const refreshStakedTokenPriceInDollars = setInterval(fetchBalance, config.refreshInterval);\r\n      return () => clearInterval(refreshStakedTokenPriceInDollars);\r\n    }\r\n  }, [isUnlocked, setStakedTokenPriceInDollars, bnbmFinance, fetchBalance]);\r\n\r\n  return stakedTokenPriceInDollars;\r\n};\r\n\r\nexport default useStakedTokenPriceInDollars;\r\n","import { cloneElement, Component, createRef, createElement } from 'react';\nimport { number, element, func, oneOfType, instanceOf, string, bool } from 'prop-types';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction zeroPad(value) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2;\n  var strValue = String(value);\n  if (length === 0) return strValue;\n  var match = strValue.match(/(.*?)([0-9]+)(.*)/);\n  var prefix = match ? match[1] : '';\n  var suffix = match ? match[3] : '';\n  var strNo = match ? match[2] : strValue;\n  var paddedNo = strNo.length >= length ? strNo : (_toConsumableArray(Array(length)).map(function () {\n    return '0';\n  }).join('') + strNo).slice(length * -1);\n  return \"\".concat(prefix).concat(paddedNo).concat(suffix);\n}\nvar timeDeltaFormatOptionsDefaults = {\n  daysInHours: false,\n  zeroPadTime: 2\n};\nfunction calcTimeDelta(date) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$now = options.now,\n      now = _options$now === void 0 ? Date.now : _options$now,\n      _options$precision = options.precision,\n      precision = _options$precision === void 0 ? 0 : _options$precision,\n      controlled = options.controlled,\n      _options$offsetTime = options.offsetTime,\n      offsetTime = _options$offsetTime === void 0 ? 0 : _options$offsetTime,\n      overtime = options.overtime;\n  var startTimestamp;\n\n  if (typeof date === 'string') {\n    startTimestamp = new Date(date).getTime();\n  } else if (date instanceof Date) {\n    startTimestamp = date.getTime();\n  } else {\n    startTimestamp = date;\n  }\n\n  if (!controlled) {\n    startTimestamp += offsetTime;\n  }\n\n  var timeLeft = controlled ? startTimestamp : startTimestamp - now();\n  var clampedPrecision = Math.min(20, Math.max(0, precision));\n  var total = Math.round(parseFloat(((overtime ? timeLeft : Math.max(0, timeLeft)) / 1000).toFixed(clampedPrecision)) * 1000);\n  var seconds = Math.abs(total) / 1000;\n  return {\n    total: total,\n    days: Math.floor(seconds / (3600 * 24)),\n    hours: Math.floor(seconds / 3600 % 24),\n    minutes: Math.floor(seconds / 60 % 60),\n    seconds: Math.floor(seconds % 60),\n    milliseconds: Number((seconds % 1 * 1000).toFixed()),\n    completed: total <= 0\n  };\n}\nfunction formatTimeDelta(timeDelta, options) {\n  var days = timeDelta.days,\n      hours = timeDelta.hours,\n      minutes = timeDelta.minutes,\n      seconds = timeDelta.seconds;\n\n  var _Object$assign = Object.assign(Object.assign({}, timeDeltaFormatOptionsDefaults), options),\n      daysInHours = _Object$assign.daysInHours,\n      zeroPadTime = _Object$assign.zeroPadTime,\n      _Object$assign$zeroPa = _Object$assign.zeroPadDays,\n      zeroPadDays = _Object$assign$zeroPa === void 0 ? zeroPadTime : _Object$assign$zeroPa;\n\n  var zeroPadTimeLength = Math.min(2, zeroPadTime);\n  var formattedHours = daysInHours ? zeroPad(hours + days * 24, zeroPadTime) : zeroPad(hours, zeroPadTimeLength);\n  return {\n    days: daysInHours ? '' : zeroPad(days, zeroPadDays),\n    hours: formattedHours,\n    minutes: zeroPad(minutes, zeroPadTimeLength),\n    seconds: zeroPad(seconds, zeroPadTimeLength)\n  };\n}\n\nvar Countdown = function (_React$Component) {\n  _inherits(Countdown, _React$Component);\n\n  var _super = _createSuper(Countdown);\n\n  function Countdown() {\n    var _this;\n\n    _classCallCheck(this, Countdown);\n\n    _this = _super.apply(this, arguments);\n    _this.state = {\n      count: _this.props.count || 3\n    };\n\n    _this.startCountdown = function () {\n      _this.interval = window.setInterval(function () {\n        var count = _this.state.count - 1;\n\n        if (count === 0) {\n          _this.stopCountdown();\n\n          _this.props.onComplete && _this.props.onComplete();\n        } else {\n          _this.setState(function (prevState) {\n            return {\n              count: prevState.count - 1\n            };\n          });\n        }\n      }, 1000);\n    };\n\n    _this.stopCountdown = function () {\n      clearInterval(_this.interval);\n    };\n\n    _this.addTime = function (seconds) {\n      _this.stopCountdown();\n\n      _this.setState(function (prevState) {\n        return {\n          count: prevState.count + seconds\n        };\n      }, _this.startCountdown);\n    };\n\n    return _this;\n  }\n\n  _createClass(Countdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.startCountdown();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children ? cloneElement(this.props.children, {\n        count: this.state.count\n      }) : null;\n    }\n  }]);\n\n  return Countdown;\n}(Component);\nCountdown.propTypes = {\n  count: number,\n  children: element,\n  onComplete: func\n};\n\nvar Countdown$1 = function (_React$Component) {\n  _inherits(Countdown$1, _React$Component);\n\n  var _super = _createSuper(Countdown$1);\n\n  function Countdown$1(props) {\n    var _this;\n\n    _classCallCheck(this, Countdown$1);\n\n    _this = _super.call(this, props);\n    _this.mounted = false;\n    _this.initialTimestamp = _this.calcOffsetStartTimestamp();\n    _this.offsetStartTimestamp = _this.props.autoStart ? 0 : _this.initialTimestamp;\n    _this.offsetTime = 0;\n    _this.legacyMode = false;\n    _this.legacyCountdownRef = createRef();\n\n    _this.tick = function () {\n      var timeDelta = _this.calcTimeDelta();\n\n      var callback = timeDelta.completed && !_this.props.overtime ? undefined : _this.props.onTick;\n\n      _this.setTimeDeltaState(timeDelta, undefined, callback);\n    };\n\n    _this.start = function () {\n      if (_this.isStarted()) return;\n      var prevOffsetStartTimestamp = _this.offsetStartTimestamp;\n      _this.offsetStartTimestamp = 0;\n      _this.offsetTime += prevOffsetStartTimestamp ? _this.calcOffsetStartTimestamp() - prevOffsetStartTimestamp : 0;\n\n      var timeDelta = _this.calcTimeDelta();\n\n      _this.setTimeDeltaState(timeDelta, \"STARTED\", _this.props.onStart);\n\n      if (!_this.props.controlled && (!timeDelta.completed || _this.props.overtime)) {\n        _this.clearTimer();\n\n        _this.interval = window.setInterval(_this.tick, _this.props.intervalDelay);\n      }\n    };\n\n    _this.pause = function () {\n      if (_this.isPaused()) return;\n\n      _this.clearTimer();\n\n      _this.offsetStartTimestamp = _this.calcOffsetStartTimestamp();\n\n      _this.setTimeDeltaState(_this.state.timeDelta, \"PAUSED\", _this.props.onPause);\n    };\n\n    _this.stop = function () {\n      if (_this.isStopped()) return;\n\n      _this.clearTimer();\n\n      _this.offsetStartTimestamp = _this.calcOffsetStartTimestamp();\n      _this.offsetTime = _this.offsetStartTimestamp - _this.initialTimestamp;\n\n      _this.setTimeDeltaState(_this.calcTimeDelta(), \"STOPPED\", _this.props.onStop);\n    };\n\n    _this.isStarted = function () {\n      return _this.isStatus(\"STARTED\");\n    };\n\n    _this.isPaused = function () {\n      return _this.isStatus(\"PAUSED\");\n    };\n\n    _this.isStopped = function () {\n      return _this.isStatus(\"STOPPED\");\n    };\n\n    _this.isCompleted = function () {\n      return _this.isStatus(\"COMPLETED\");\n    };\n\n    _this.handleOnComplete = function (timeDelta) {\n      if (_this.props.onComplete) _this.props.onComplete(timeDelta);\n    };\n\n    if (props.date) {\n      var timeDelta = _this.calcTimeDelta();\n\n      _this.state = {\n        timeDelta: timeDelta,\n        status: timeDelta.completed ? \"COMPLETED\" : \"STOPPED\"\n      };\n    } else {\n      _this.legacyMode = true;\n    }\n\n    return _this;\n  }\n\n  _createClass(Countdown$1, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.legacyMode) {\n        return;\n      }\n\n      this.mounted = true;\n      if (this.props.onMount) this.props.onMount(this.calcTimeDelta());\n      if (this.props.autoStart) this.start();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (this.legacyMode) {\n        return;\n      }\n\n      if (this.props.date !== prevProps.date) {\n        this.initialTimestamp = this.calcOffsetStartTimestamp();\n        this.offsetStartTimestamp = this.initialTimestamp;\n        this.offsetTime = 0;\n        this.setTimeDeltaState(this.calcTimeDelta());\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.legacyMode) {\n        return;\n      }\n\n      this.mounted = false;\n      this.clearTimer();\n    }\n  }, {\n    key: \"calcTimeDelta\",\n    value: function calcTimeDelta$1() {\n      var _this$props = this.props,\n          date = _this$props.date,\n          now = _this$props.now,\n          precision = _this$props.precision,\n          controlled = _this$props.controlled,\n          overtime = _this$props.overtime;\n      return calcTimeDelta(date, {\n        now: now,\n        precision: precision,\n        controlled: controlled,\n        offsetTime: this.offsetTime,\n        overtime: overtime\n      });\n    }\n  }, {\n    key: \"calcOffsetStartTimestamp\",\n    value: function calcOffsetStartTimestamp() {\n      return Date.now();\n    }\n  }, {\n    key: \"addTime\",\n    value: function addTime(seconds) {\n      this.legacyCountdownRef.current.addTime(seconds);\n    }\n  }, {\n    key: \"clearTimer\",\n    value: function clearTimer() {\n      window.clearInterval(this.interval);\n    }\n  }, {\n    key: \"isStatus\",\n    value: function isStatus(status) {\n      return this.state.status === status;\n    }\n  }, {\n    key: \"setTimeDeltaState\",\n    value: function setTimeDeltaState(timeDelta, status, callback) {\n      var _this2 = this;\n\n      if (!this.mounted) return;\n      var completedCallback;\n\n      if (!this.state.timeDelta.completed && timeDelta.completed) {\n        if (!this.props.overtime) this.clearTimer();\n        completedCallback = this.handleOnComplete;\n      }\n\n      var onDone = function onDone() {\n        if (callback) callback(_this2.state.timeDelta);\n        if (completedCallback) completedCallback(_this2.state.timeDelta);\n      };\n\n      return this.setState(function (prevState) {\n        var newStatus = status || prevState.status;\n\n        if (timeDelta.completed && !_this2.props.overtime) {\n          newStatus = \"COMPLETED\";\n        } else if (!status && newStatus === \"COMPLETED\") {\n          newStatus = \"STOPPED\";\n        }\n\n        return {\n          timeDelta: timeDelta,\n          status: newStatus\n        };\n      }, onDone);\n    }\n  }, {\n    key: \"getApi\",\n    value: function getApi() {\n      return this.api = this.api || {\n        start: this.start,\n        pause: this.pause,\n        stop: this.stop,\n        isStarted: this.isStarted,\n        isPaused: this.isPaused,\n        isStopped: this.isStopped,\n        isCompleted: this.isCompleted\n      };\n    }\n  }, {\n    key: \"getRenderProps\",\n    value: function getRenderProps() {\n      var _this$props2 = this.props,\n          daysInHours = _this$props2.daysInHours,\n          zeroPadTime = _this$props2.zeroPadTime,\n          zeroPadDays = _this$props2.zeroPadDays;\n      var timeDelta = this.state.timeDelta;\n      return Object.assign(Object.assign({}, timeDelta), {\n        api: this.getApi(),\n        props: this.props,\n        formatted: formatTimeDelta(timeDelta, {\n          daysInHours: daysInHours,\n          zeroPadTime: zeroPadTime,\n          zeroPadDays: zeroPadDays\n        })\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.legacyMode) {\n        var _this$props3 = this.props,\n            count = _this$props3.count,\n            _children = _this$props3.children,\n            onComplete = _this$props3.onComplete;\n        return createElement(Countdown, {\n          ref: this.legacyCountdownRef,\n          count: count,\n          onComplete: onComplete\n        }, _children);\n      }\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          overtime = _this$props4.overtime,\n          children = _this$props4.children,\n          renderer = _this$props4.renderer;\n      var renderProps = this.getRenderProps();\n\n      if (renderer) {\n        return renderer(renderProps);\n      }\n\n      if (children && this.state.timeDelta.completed && !overtime) {\n        return cloneElement(children, {\n          countdown: renderProps\n        });\n      }\n\n      var _renderProps$formatte = renderProps.formatted,\n          days = _renderProps$formatte.days,\n          hours = _renderProps$formatte.hours,\n          minutes = _renderProps$formatte.minutes,\n          seconds = _renderProps$formatte.seconds;\n      return createElement(\"span\", {\n        className: className\n      }, renderProps.total < 0 ? '-' : '', days, days ? ':' : '', hours, \":\", minutes, \":\", seconds);\n    }\n  }]);\n\n  return Countdown$1;\n}(Component);\nCountdown$1.defaultProps = Object.assign(Object.assign({}, timeDeltaFormatOptionsDefaults), {\n  controlled: false,\n  intervalDelay: 1000,\n  precision: 0,\n  autoStart: true\n});\nCountdown$1.propTypes = {\n  date: oneOfType([instanceOf(Date), string, number]),\n  daysInHours: bool,\n  zeroPadTime: number,\n  zeroPadDays: number,\n  controlled: bool,\n  intervalDelay: number,\n  precision: number,\n  autoStart: bool,\n  overtime: bool,\n  className: string,\n  children: element,\n  renderer: func,\n  now: func,\n  onMount: func,\n  onStart: func,\n  onPause: func,\n  onStop: func,\n  onTick: func,\n  onComplete: func\n};\n\nexport default Countdown$1;\nexport { calcTimeDelta, formatTimeDelta, zeroPad };\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nexport interface IconProps {\r\n  color?: string;\r\n  children?: string;\r\n}\r\n\r\nconst Icon: React.FC = ({children}) => <StyledIcon>{children}</StyledIcon>;\r\n\r\nconst StyledIcon = styled.div``;\r\n\r\nexport default Icon;\r\n","import React, {useContext} from 'react';\r\nimport {ThemeContext} from 'styled-components';\r\n\r\nimport Icon, {IconProps} from '../Icon';\r\n\r\nconst AddIcon: React.FC<IconProps> = ({color}) => {\r\n  const {color: themeColor} = useContext(ThemeContext);\r\n  return (\r\n    <Icon>\r\n      <svg height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n        <path d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\" fill={color ? color : themeColor.grey[400]} />\r\n      </svg>\r\n    </Icon>\r\n  );\r\n};\r\n\r\nexport default AddIcon;\r\n","import React, {useContext} from 'react';\r\nimport {ThemeContext} from 'styled-components';\r\n\r\nimport Icon, {IconProps} from '../Icon';\r\n\r\nconst RemoveIcon: React.FC<IconProps> = ({color}) => {\r\n  const {color: themeColor} = useContext(ThemeContext);\r\n  return (\r\n    <Icon>\r\n      <svg viewBox=\"0 0 24 24\" fill={color ? color : themeColor.grey[400]} width=\"18px\" height=\"18px\">\r\n        <path d=\"M0 0h24v24H0z\" fill=\"none\" />\r\n        <path d=\"M19 13H5v-2h14v2z\" />\r\n      </svg>\r\n    </Icon>\r\n  );\r\n};\r\n\r\nexport default RemoveIcon;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport {Link} from 'react-router-dom';\r\n\r\ninterface IconButtonProps {\r\n  children?: React.ReactNode;\r\n  disabled?: boolean;\r\n  onClick?: () => void;\r\n  to?: string;\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = ({children, disabled, onClick, to}) => {\r\n  return (\r\n    <StyledButton disabled={disabled} onClick={onClick}>\r\n      {!!to ? <StyledLink to={to}>{children}</StyledLink> : children}\r\n    </StyledButton>\r\n  );\r\n};\r\n\r\ninterface StyledButtonProps {\r\n  disabled?: boolean;\r\n}\r\n/*\r\n  box-shadow: 6px 6px 12px ${props => props.theme.color.grey[600]},\r\n    -12px -12px 24px ${props => props.theme.color.grey[800]}aa;\r\n */\r\n\r\n// background-color: ${(props) => (!props.disabled ? '#571eb1' : props.theme.color.grey[900])};\r\n// color: ${(props) => (!props.disabled ? props.theme.color.primary.main : props.theme.color.grey[500])};\r\n\r\nconst StyledButton = styled.button<StyledButtonProps>`\r\n  align-items: center;\r\n  border: 2px solid;\r\n  border-radius: 28px;\r\n  background-color: #322221e4;\r\n  box-shadow: ${(props) => ('0px 0px 5px 0px ' + !props.disabled ? 'rgba(251,221,76,1)' : 'grey' )};\r\n  color: ${(props) => (!props.disabled ? '#fba919' : 'grey')};\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-weight: 700;\r\n  height: 48px;\r\n  justify-content: center;\r\n  letter-spacing: 1px;\r\n  outline: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  pointer-events: ${(props) => (!props.disabled ? undefined : 'none')};\r\n  text-transform: uppercase;\r\n  width: 48px;\r\n\r\n  &:hover {\r\n    background-color: #fba919;\r\n    color: #322221e4;\r\n  }\r\n`;\r\n\r\nconst StyledLink = styled(Link)`\r\n  align-items: center;\r\n  color: inherit;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 48px;\r\n  justify-content: center;\r\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\r\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\r\n  text-decoration: none;\r\n`;\r\n\r\nexport default IconButton;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\ninterface PageHeaderProps {\r\n  icon: React.ReactNode;\r\n  subtitle?: string;\r\n  title?: string;\r\n}\r\n\r\nconst PageHeader: React.FC<PageHeaderProps> = ({icon, subtitle, title}) => {\r\n  return (\r\n    <StyledPageHeader>\r\n      {/* <StyledIcon>{icon}</StyledIcon> */}\r\n      <StyledTitle>{title}</StyledTitle>\r\n      <StyledSubtitle>{subtitle}</StyledSubtitle>\r\n      \r\n    </StyledPageHeader>\r\n  );\r\n};\r\n\r\nconst StyledPageHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-bottom: ${(props) => props.theme.spacing[6]}px;\r\n  padding-top: ${(props) => props.theme.spacing[6]}px;\r\n  max-width: 600px;\r\n  width: 100%;\r\n  margin: 0 auto;\r\n`;\r\n\r\nconst StyledTitle = styled.h3`\r\n  color: #ffffff !important;\r\n  font-weight: 700;\r\n  margin: 0;\r\n  padding: 0;\r\n`;\r\nconst StyledSubtitle = styled.p`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  margin: 0;\r\n  padding: 0;\r\n  text-align: center;\r\n  margin-top: 10px;\r\n`;\r\n\r\nexport default PageHeader;\r\n","import {useCallback, useEffect, useState} from 'react';\r\nimport {BigNumber} from 'ethers';\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport {ContractName} from '../bnbm-finance';\r\nimport config from '../config';\r\n\r\nconst useEarnings = (poolName: ContractName, earnTokenName: String, poolId: Number) => {\r\n  const [balance, setBalance] = useState(BigNumber.from(0));\r\n  const bnbmFinance = useBnbmFinance();\r\n  const isUnlocked = bnbmFinance?.isUnlocked;\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await bnbmFinance.earnedFromBank(poolName, earnTokenName, poolId, bnbmFinance.myAccount);\r\n    setBalance(balance);\r\n  }, [poolName, earnTokenName, poolId, bnbmFinance]);\r\n\r\n  useEffect(() => {\r\n    if (isUnlocked) {\r\n      fetchBalance().catch((err) => console.error(err.stack));\r\n\r\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\r\n      return () => clearInterval(refreshBalance);\r\n    }\r\n  }, [isUnlocked, poolName, bnbmFinance, fetchBalance]);\r\n\r\n  return balance;\r\n};\r\n\r\nexport default useEarnings;\r\n","import {useCallback} from 'react';\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\nimport {Bank} from '../bnbm-finance';\r\n\r\nconst useHarvest = (bank: Bank) => {\r\n  const bnbmFinance = useBnbmFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleReward = useCallback(() => {\r\n    handleTransactionReceipt(\r\n      bnbmFinance.harvest(bank.contract, bank.poolId),\r\n      `Claim ${bank.earnTokenName} from ${bank.contract}`,\r\n    );\r\n  }, [bank, bnbmFinance, handleTransactionReceipt]);\r\n\r\n  return {onReward: handleReward};\r\n};\r\n\r\nexport default useHarvest;\r\n","import React, {useMemo} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport {Button, Card, CardContent, Typography} from '@material-ui/core';\r\n// import Button from '../../../components/Button';\r\n// import Card from '../../../components/Card';\r\n// import CardContent from '../../../components/CardContent';\r\nimport CardIcon from '../../../components/CardIcon';\r\nimport Label from '../../../components/Label';\r\nimport Value from '../../../components/Value';\r\nimport useEarnings from '../../../hooks/useEarnings';\r\nimport useHarvest from '../../../hooks/useHarvest';\r\n\r\nimport {getDisplayBalance} from '../../../utils/formatBalance';\r\nimport TokenSymbol from '../../../components/TokenSymbol';\r\nimport {Bank} from '../../../bnbm-finance';\r\nimport useBnbmStats from '../../../hooks/useBondStats';\r\nimport useShareStats from '../../../hooks/useSBnbStats';\r\n\r\ninterface HarvestProps {\r\n  bank: Bank;\r\n}\r\n\r\nconst Harvest: React.FC<HarvestProps> = ({bank}) => {\r\n  const earnings = useEarnings(bank.contract, bank.earnTokenName, bank.poolId);\r\n  const {onReward} = useHarvest(bank);\r\n  const bnbmStats = useBnbmStats();\r\n  const cabStats = useShareStats();\r\n\r\n  const tokenName = bank.earnTokenName === 'SBNB' ? 'SBNB' : 'BNBM';\r\n  const tokenStats = bank.earnTokenName === 'SBNB' ? cabStats : bnbmStats;\r\n  const tokenPriceInDollars = useMemo(\r\n    () => (tokenStats ? Number(tokenStats.priceInDollars).toFixed(2) : null),\r\n    [tokenStats],\r\n  );\r\n  const earnedInDollars = (Number(tokenPriceInDollars) * Number(getDisplayBalance(earnings))).toFixed(2);\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <StyledCardContentInner>\r\n          <StyledCardHeader>\r\n            <CardIcon>\r\n              <TokenSymbol symbol={bank.earnToken.symbol} />\r\n            </CardIcon>\r\n            <Value value={getDisplayBalance(earnings)} />\r\n                          {/* <Typography style={{textTransform: 'uppercase', color: '#fffff'}}>\r\n                      {` $${earnedInDollars}`}\r\n                    </Typography>\r\n                    <Typography style={{textTransform: 'uppercase', color: '#fba919'}}>\r\n              {`${tokenName} Earned`}\r\n                    </Typography> */}\r\n            <Label color=\"white\" text={` $${earnedInDollars}`} />\r\n                  \r\n             <Label color=\"white\" text={`${tokenName} Earned`} />\r\n          </StyledCardHeader>\r\n          <StyledCardActions>\r\n            <Button\r\n              size=\"small\"\r\n              onClick={onReward}\r\n              disabled={earnings.eq(0)}\r\n              color=\"primary\" variant=\"contained\"\r\n            >\r\n              Claim\r\n            </Button>\r\n          </StyledCardActions>\r\n        </StyledCardContentInner>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${(props) => props.theme.spacing[6]}px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default Harvest;\r\n","import {useCallback} from 'react';\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport {Bank} from '../bnbm-finance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\nimport {parseUnits} from 'ethers/lib/utils';\r\n\r\nconst useStake = (bank: Bank) => {\r\n  const bnbmFinance = useBnbmFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleStake = useCallback(\r\n    (amount: string) => {\r\n      const amountBn = parseUnits(amount, bank.depositToken.decimal);\r\n      handleTransactionReceipt(\r\n        bnbmFinance.stake(bank.contract, bank.poolId, amountBn),\r\n        `Stake ${amount} ${bank.depositTokenName} to ${bank.contract}`,\r\n      );\r\n    },\r\n    [bank, bnbmFinance, handleTransactionReceipt],\r\n  );\r\n  return {onStake: handleStake};\r\n};\r\n\r\nexport default useStake;\r\n","import {useCallback, useEffect, useState} from 'react';\r\n\r\nimport {BigNumber} from 'ethers';\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport {ContractName} from '../bnbm-finance';\r\nimport config from '../config';\r\n\r\nconst useStakedBalance = (poolName: ContractName, poolId: Number) => {\r\n  const [balance, setBalance] = useState(BigNumber.from(0));\r\n  const bnbmFinance = useBnbmFinance();\r\n  const isUnlocked = bnbmFinance?.isUnlocked;\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await bnbmFinance.stakedBalanceOnBank(poolName, poolId, bnbmFinance.myAccount);\r\n    setBalance(balance);\r\n  }, [poolName, poolId, bnbmFinance]);\r\n\r\n  useEffect(() => {\r\n    if (isUnlocked) {\r\n      fetchBalance().catch((err) => console.error(err.stack));\r\n\r\n      const refreshBalance = setInterval(fetchBalance, config.refreshInterval);\r\n      return () => clearInterval(refreshBalance);\r\n    }\r\n  }, [isUnlocked, poolName, setBalance, bnbmFinance, fetchBalance]);\r\n\r\n  return balance;\r\n};\r\n\r\nexport default useStakedBalance;\r\n","import {useCallback} from 'react';\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport {Bank} from '../bnbm-finance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\nimport {parseUnits} from 'ethers/lib/utils';\r\n\r\nconst useWithdraw = (bank: Bank) => {\r\n  const bnbmFinance = useBnbmFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleWithdraw = useCallback(\r\n    (amount: string) => {\r\n      const amountBn = parseUnits(amount, bank.depositToken.decimal);\r\n      handleTransactionReceipt(\r\n        bnbmFinance.unstake(bank.contract, bank.poolId, amountBn),\r\n        `Withdraw ${amount} ${bank.depositTokenName} from ${bank.contract}`,\r\n      );\r\n    },\r\n    [bank, bnbmFinance, handleTransactionReceipt],\r\n  );\r\n  return {onWithdraw: handleWithdraw};\r\n};\r\n\r\nexport default useWithdraw;\r\n","import React, {useCallback, useMemo, useState} from 'react';\r\n\r\nimport {Button} from '@material-ui/core';\r\n// import Button from '../../../components/Button'\r\nimport Modal, {ModalProps} from '../../../components/Modal';\r\nimport ModalActions from '../../../components/ModalActions';\r\nimport ModalTitle from '../../../components/ModalTitle';\r\nimport TokenInput from '../../../components/TokenInput';\r\n\r\nimport {getFullDisplayBalance} from '../../../utils/formatBalance';\r\nimport {BigNumber} from 'ethers';\r\n\r\ninterface DepositModalProps extends ModalProps {\r\n  max: BigNumber;\r\n  decimals: number;\r\n  onConfirm: (amount: string) => void;\r\n  tokenName?: string;\r\n}\r\n\r\nconst DepositModal: React.FC<DepositModalProps> = ({max, decimals, onConfirm, onDismiss, tokenName = ''}) => {\r\n  const [val, setVal] = useState('');\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max, decimals, false);\r\n  }, [max, decimals]);\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value);\r\n    },\r\n    [setVal],\r\n  );\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance);\r\n  }, [fullBalance, setVal]);\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Deposit ${tokenName}`} />\r\n      <TokenInput\r\n        value={val}\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        {/* <Button color=\"secondary\" variant=\"outlined\" onClick={onDismiss}>Cancel</Button> */}\r\n        <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => onConfirm(val)}>\r\n          Confirm\r\n        </Button>\r\n      </ModalActions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default DepositModal;\r\n","import React, {useCallback, useMemo, useState} from 'react';\r\n\r\nimport {Button} from '@material-ui/core';\r\n// import Button from '../../../components/Button'\r\nimport Modal, {ModalProps} from '../../../components/Modal';\r\nimport ModalActions from '../../../components/ModalActions';\r\nimport ModalTitle from '../../../components/ModalTitle';\r\nimport TokenInput from '../../../components/TokenInput';\r\n\r\nimport {getFullDisplayBalance} from '../../../utils/formatBalance';\r\nimport {BigNumber} from 'ethers';\r\n\r\ninterface WithdrawModalProps extends ModalProps {\r\n  max: BigNumber;\r\n  onConfirm: (amount: string) => void;\r\n  tokenName?: string;\r\n  decimals?: number;\r\n}\r\n\r\nconst WithdrawModal: React.FC<WithdrawModalProps> = ({onConfirm, onDismiss, max, tokenName = '', decimals = 18}) => {\r\n  const [val, setVal] = useState('');\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max, decimals, false);\r\n  }, [max, decimals]);\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value);\r\n    },\r\n    [setVal],\r\n  );\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance);\r\n  }, [fullBalance, setVal]);\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Withdraw ${tokenName}`} />\r\n      <TokenInput\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        value={val}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button size=\"small\" color=\"primary\" variant=\"contained\" onClick={() => onConfirm(val)}>\r\n          Confirm\r\n        </Button>\r\n        {/* <Button color=\"secondary\" onClick={onDismiss}>Cancel</Button> */}\r\n\r\n        {/* <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\r\n        <Button text=\"Confirm\" onClick={() => onConfirm(val)} /> */}\r\n      </ModalActions>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default WithdrawModal;\r\n","import React, {useMemo, useContext, useState} from 'react';\r\nimport {BigNumber} from 'ethers';\r\nimport styled from 'styled-components';\r\n\r\n// import Button from '../../../components/Button';\r\nimport {Button, Card, CardContent, Typography} from '@material-ui/core';\r\n// import Card from '../../../components/Card';\r\n// import CardContent from '../../../components/CardContent';\r\nimport CardIcon from '../../../components/CardIcon';\r\nimport {AddIcon, RemoveIcon} from '../../../components/icons';\r\nimport FlashOnIcon from '@material-ui/icons/FlashOn';\r\nimport IconButton from '../../../components/IconButton';\r\nimport Label from '../../../components/Label';\r\nimport Value from '../../../components/Value';\r\nimport {ThemeContext} from 'styled-components';\r\n\r\nimport useApprove, {ApprovalState} from '../../../hooks/useApprove';\r\nimport useModal from '../../../hooks/useModal';\r\nimport useStake from '../../../hooks/useStake';\r\nimport useZap from '../../../hooks/useZap';\r\nimport useStakedBalance from '../../../hooks/useStakedBalance';\r\nimport useStakedTokenPriceInDollars from '../../../hooks/useStakedTokenPriceInDollars';\r\nimport useTokenBalance from '../../../hooks/useTokenBalance';\r\nimport useWithdraw from '../../../hooks/useWithdraw';\r\n\r\nimport {getDisplayBalance} from '../../../utils/formatBalance';\r\n\r\nimport DepositModal from './DepositModal';\r\nimport WithdrawModal from './WithdrawModal';\r\nimport ZapModal from './ZapModal';\r\nimport TokenSymbol from '../../../components/TokenSymbol';\r\nimport {Bank} from '../../../bnbm-finance';\r\nimport useWallet from 'use-wallet';\r\n\r\ninterface StakeProps {\r\n  bank: Bank;\r\n}\r\n\r\nconst Stake: React.FC<StakeProps> = ({bank}) => {\r\n  const [approveStatus, approve] = useApprove(bank.depositToken, bank.address);\r\n  const {balance} = useWallet();\r\n  // const wbnbBalance = Number(balance).toFixed(4);\r\n  // const [bnbBalance, setBNBBalance] = useState(BigNumber.from(0));\r\n  // setBNBBalance(BigNumber.from(balance));\r\n  const bnbBalance = BigNumber.from(balance);\r\n  const {color: themeColor} = useContext(ThemeContext);\r\n  const _tokenBalance = useTokenBalance(bank.depositToken);\r\n  \r\n  const tokenBalance = bank.depositTokenName == \"WBNB\" ? bnbBalance : _tokenBalance;\r\n  const stakedBalance = useStakedBalance(bank.contract, bank.poolId);\r\n  const stakedTokenPriceInDollars = useStakedTokenPriceInDollars(bank.depositTokenName, bank.depositToken);\r\n  const tokenPriceInDollars = useMemo(\r\n    () => (stakedTokenPriceInDollars ? stakedTokenPriceInDollars : null),\r\n    [stakedTokenPriceInDollars],\r\n  );\r\n  const earnedInDollars = (\r\n    Number(tokenPriceInDollars) * Number(getDisplayBalance(stakedBalance, bank.depositToken.decimal))\r\n  ).toFixed(2);\r\n  const {onStake} = useStake(bank);\r\n  const {onZap} = useZap(bank);\r\n  const {onWithdraw} = useWithdraw(bank);\r\n\r\n  const [onPresentDeposit, onDismissDeposit] = useModal(\r\n    <DepositModal\r\n      max={_tokenBalance}\r\n      decimals={bank.depositToken.decimal}\r\n      onConfirm={(amount) => {\r\n        if (Number(amount) <= 0 || isNaN(Number(amount))) return;\r\n        onStake(amount);\r\n        onDismissDeposit();\r\n      }}\r\n      tokenName={bank.depositTokenName}\r\n    />,\r\n  );\r\n\r\n  const [onPresentZap, onDissmissZap] = useModal(\r\n    <ZapModal\r\n      decimals={bank.depositToken.decimal}\r\n      onConfirm={(zappingToken, tokenName, amount) => {\r\n        if (Number(amount) <= 0 || isNaN(Number(amount))) return;\r\n        onZap(zappingToken, tokenName, amount);\r\n        onDissmissZap();\r\n      }}\r\n      tokenName={bank.depositTokenName}\r\n    />,\r\n  );\r\n\r\n  const [onPresentWithdraw, onDismissWithdraw] = useModal(\r\n    <WithdrawModal\r\n      max={stakedBalance}\r\n      decimals={bank.depositToken.decimal}\r\n      onConfirm={(amount) => {\r\n        if (Number(amount) <= 0 || isNaN(Number(amount))) return;\r\n        onWithdraw(amount);\r\n        onDismissWithdraw();\r\n      }}\r\n      tokenName={bank.depositTokenName}\r\n    />,\r\n  );\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <StyledCardContentInner>\r\n          <StyledCardHeader>\r\n            <CardIcon>\r\n              <TokenSymbol symbol={bank.depositToken.symbol} />\r\n            </CardIcon>\r\n            <Value value={getDisplayBalance(stakedBalance, bank.depositToken.decimal)} />\r\n\r\n            \r\n            <Label color='white' text={` $${earnedInDollars}`} />\r\n\r\n                 {/* <Typography style={{textTransform: 'uppercase', color: '#fffff'}}>\r\n                      {` $${earnedInDollars}`}\r\n            </Typography>\r\n               <Typography style={{textTransform: 'uppercase', color: '#fba919'}}>\r\n              {`${bank.depositTokenName} Staked`}\r\n                    </Typography> */}\r\n            <Label color='white' text={`${bank.depositTokenName} Staked`} />\r\n          </StyledCardHeader>\r\n          <StyledCardActions>\r\n            {approveStatus !== ApprovalState.APPROVED ? (\r\n              <Button\r\n                size=\"small\"\r\n                disabled={\r\n                  bank.closedForStaking ||\r\n                  approveStatus === ApprovalState.PENDING ||\r\n                  approveStatus === ApprovalState.UNKNOWN\r\n                }\r\n                onClick={approve}\r\n                color=\"primary\" variant=\"contained\"\r\n                style={{marginTop: '20px'}}\r\n              >\r\n                {`Approve ${bank.depositTokenName}`}\r\n              </Button>\r\n            ) : (\r\n              <>\r\n                <IconButton onClick={onPresentWithdraw}>\r\n                  <RemoveIcon />\r\n                </IconButton>\r\n                <StyledActionSpacer />\r\n                {/* <IconButton\r\n                  disabled={\r\n                    bank.closedForStaking ||\r\n                    bank.depositTokenName === 'BNBM-BTCB-APELP' ||\r\n                    bank.depositTokenName === 'BNBM-BTCB-LP'\r\n                  }\r\n                  onClick={() => (bank.closedForStaking ? null : onPresentZap())}\r\n                >\r\n                  <FlashOnIcon style={{color: themeColor.grey[400]}} />\r\n                </IconButton> */}\r\n                <StyledActionSpacer />\r\n                <IconButton\r\n                  disabled={bank.closedForStaking}\r\n                  onClick={() => (bank.closedForStaking ? null : onPresentDeposit())}\r\n                >\r\n                  <AddIcon />\r\n                </IconButton>\r\n              </>\r\n            )}\r\n          </StyledCardActions>\r\n        </StyledCardContentInner>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: 28px;\r\n  width: 100%;\r\n`;\r\n\r\nconst StyledActionSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`;\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`;\r\n\r\nexport default Stake;\r\n","import {useContext} from 'react';\r\nimport {Context as BanksContext} from '../contexts/Banks';\r\nimport {Bank, ContractName} from '../bnbm-finance';\r\n\r\nconst useBank = (contractName: ContractName): Bank => {\r\n  const {banks} = useContext(BanksContext);\r\n  return banks.find((bank) => bank.contract === contractName);\r\n};\r\n\r\nexport default useBank;\r\n","import {useCallback, useState, useEffect} from 'react';\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport {Bank} from '../bnbm-finance';\r\nimport {PoolStats} from '../bnbm-finance/types';\r\nimport config from '../config';\r\n\r\nconst useStatsForPool = (bank: Bank) => {\r\n  const bnbmFinance = useBnbmFinance();\r\n\r\n  const [poolAPRs, setPoolAPRs] = useState<PoolStats>();\r\n\r\n  console.log('========> bank', bank)\r\n  const fetchAPRsForPool = useCallback(async () => {\r\n    setPoolAPRs(await bnbmFinance.getPoolAPRs(bank));\r\n  }, [bnbmFinance, bank]);\r\n\r\n  useEffect(() => {\r\n    fetchAPRsForPool().catch((err) => console.error(`Failed to fetch APR info: ${err.stack}`));\r\n    const refreshInterval = setInterval(fetchAPRsForPool, config.refreshInterval);\r\n    return () => clearInterval(refreshInterval);\r\n  }, [setPoolAPRs, bnbmFinance, fetchAPRsForPool]);\r\n\r\n  return poolAPRs;\r\n};\r\n\r\nexport default useStatsForPool;\r\n","import {useCallback} from 'react';\r\nimport useBnbmFinance from './useBnbmFinance';\r\nimport {Bank} from '../bnbm-finance';\r\nimport useHandleTransactionReceipt from './useHandleTransactionReceipt';\r\n\r\nconst useRedeem = (bank: Bank) => {\r\n  const bnbmFinance = useBnbmFinance();\r\n  const handleTransactionReceipt = useHandleTransactionReceipt();\r\n\r\n  const handleRedeem = useCallback(() => {\r\n    handleTransactionReceipt(bnbmFinance.exit(bank.contract, bank.poolId), `Redeem ${bank.contract}`);\r\n  }, [bank, bnbmFinance, handleTransactionReceipt]);\r\n\r\n  return {onRedeem: handleRedeem};\r\n};\r\n\r\nexport default useRedeem;\r\n","import React, {useEffect} from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport {useParams} from 'react-router-dom';\r\nimport {useWallet} from 'use-wallet';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\n\r\nimport {Box, Button, Card, CardContent, Typography, Grid} from '@material-ui/core';\r\n\r\nimport PageHeader from '../../components/PageHeader';\r\nimport Spacer from '../../components/Spacer';\r\nimport UnlockWallet from '../../components/UnlockWallet';\r\nimport Harvest from './components/Harvest';\r\nimport Stake from './components/Stake';\r\nimport useBank from '../../hooks/useBank';\r\nimport useStatsForPool from '../../hooks/useStatsForPool';\r\nimport useRedeem from '../../hooks/useRedeem';\r\nimport {Bank as BankEntity} from '../../bnbm-finance';\r\nimport useBnbmFinance from '../../hooks/useBnbmFinance';\r\nimport {Alert} from '@material-ui/lab';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  gridItem: {\r\n    height: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      height: '90px',\r\n    },\r\n  },\r\n}));\r\n\r\nconst Bank: React.FC = () => {\r\n  useEffect(() => window.scrollTo(0, 0));\r\n  const classes = useStyles();\r\n  const {bankId} = useParams();\r\n  const bank = useBank(bankId);\r\n\r\n  const {account} = useWallet();\r\n  const {onRedeem} = useRedeem(bank);\r\n  const statsOnPool = useStatsForPool(bank);\r\n\r\n  let vaultUrl: string;\r\n  if (bank.depositTokenName.includes('BNBM')) {\r\n    vaultUrl = 'https://www.bnbm.farm/#/bsc/vault/bnbm-bnbm-btcb';\r\n  } else {\r\n    vaultUrl = 'https://www.bnbm.farm/#/bsc/vault/bnbm-sbnb-wbnb';\r\n\r\n  }\r\n\r\n  return account && bank ? (\r\n    <>\r\n      <PageHeader\r\n        icon=\"\"\r\n        subtitle={`Deposit ${bank?.depositTokenName} and earn ${bank?.earnTokenName}`}\r\n        title={bank?.name}\r\n      />\r\n         {/* <Box mt={5}>\r\n                <Grid container justify=\"center\" spacing={3} style={{ marginBottom: '30px' }}> */}\r\n\r\n        {/* <Alert variant=\"filled\" severity=\"info\">\r\n            <h3>Our autocompounding vaults are live!</h3><br />\r\n            We support zapping tokens, and auto-compound every 2 hours!<br />\r\n            Check it out here: <a href={vaultUrl}>{vaultUrl}</a>\r\n\r\n\r\n        </Alert> */}\r\n        {/* </Grid>\r\n        </Box> */}\r\n      <Box>\r\n        <Grid container justify=\"center\" spacing={3} style={{marginBottom: '50px'}}>\r\n          <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n            <Card className={classes.gridItem}>\r\n              <CardContent style={{textAlign: 'center'}}>\r\n                <p>APR</p>\r\n                <p>{bank.closedForStaking ? '0.00' : statsOnPool?.yearlyAPR}%</p>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n            <Card className={classes.gridItem}>\r\n              <CardContent style={{textAlign: 'center'}}>\r\n                <p>Daily APR</p>\r\n                <p>{bank.closedForStaking ? '0.00' : statsOnPool?.dailyAPR}%</p>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} md={2} lg={2} className={classes.gridItem}>\r\n            <Card className={classes.gridItem}>\r\n              <CardContent style={{textAlign: 'center'}}>\r\n                <p>TVL</p>\r\n                <p>${statsOnPool?.TVL}</p>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n   \r\n      <Box mt={5}>\r\n        <StyledBank>\r\n          <StyledCardsWrapper>\r\n            <StyledCardWrapper>\r\n              <Harvest bank={bank} />\r\n            </StyledCardWrapper>\r\n            <Spacer />\r\n            <StyledCardWrapper>{<Stake bank={bank} />}</StyledCardWrapper>\r\n          </StyledCardsWrapper>\r\n          <Spacer size=\"lg\" />\r\n          {bank.depositTokenName.includes('LP') && <LPTokenHelpText bank={bank} />}\r\n          <Spacer size=\"lg\" />\r\n          <div>\r\n            <Button size=\"small\" onClick={onRedeem} color=\"primary\" variant=\"contained\">\r\n              Claim &amp; Withdraw\r\n            </Button>\r\n          </div>\r\n          <Spacer size=\"lg\" />\r\n        </StyledBank>\r\n      </Box>\r\n    </>\r\n  ) : !bank ? (\r\n    <BankNotFound />\r\n  ) : (\r\n    <UnlockWallet />\r\n  );\r\n};\r\n\r\nconst LPTokenHelpText: React.FC<{bank: BankEntity}> = ({bank}) => {\r\n  const bnbmFinance = useBnbmFinance();\r\n  const bnbmAddr = bnbmFinance.BNBM.address;\r\n  const carAddr = bnbmFinance.SBNB.address;\r\n\r\n  let pairName: string;\r\n  let uniswapUrl: string;\r\n // let vaultUrl: string;\r\n  if (!bank.depositTokenName.includes('SBNB')) {\r\n    pairName = 'BNBM-BNB pair';\r\n    uniswapUrl = 'https://pancakeswap.finance/add/BNB/' + bnbmAddr;\r\n //   vaultUrl = 'https://www.bnbm.farm/#/bsc/vault/bnbm-bnbm-btcb';\r\n  } else {\r\n    pairName = 'SBNB-BNB pair';\r\n    uniswapUrl = 'https://pancakeswap.finance/add/BNB/' + carAddr;\r\n //   vaultUrl = 'https://www.bnbm.farm/#/bsc/vault/bnbm-sbnb-bnb';\r\n\r\n  }\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <StyledLink href={uniswapUrl} target=\"_blank\">\r\n          {`Provide liquidity for ${pairName} now on PancakeSwap`}\r\n        </StyledLink>\r\n      </CardContent>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst BankNotFound = () => {\r\n  return (\r\n    <Center>\r\n      <PageHeader icon=\"\" title=\"Not Found\" subtitle=\"You've hit a bank just robbed by unicorns.\" />\r\n    </Center>\r\n  );\r\n};\r\n\r\nconst StyledBank = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`;\r\n\r\nconst StyledLink = styled.a`\r\n  font-weight: 700;\r\n  text-decoration: none;\r\n  color: ${(props) => props.theme.color.primary.main};\r\n`;\r\n\r\nconst StyledCardsWrapper = styled.div`\r\n  display: flex;\r\n  width: 600px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`;\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 80%;\r\n  }\r\n`;\r\n\r\nconst Center = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  align-items: center;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default Bank;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nexport var styles = {\n  /* Styles applied to the root element. */\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: 8\n  },\n\n  /* Styles applied to the root element if `disableSpacing={false}`. */\n  spacing: {\n    '& > :not(:first-child)': {\n      marginLeft: 8\n    }\n  }\n};\nvar CardActions = /*#__PURE__*/React.forwardRef(function CardActions(props, ref) {\n  var _props$disableSpacing = props.disableSpacing,\n      disableSpacing = _props$disableSpacing === void 0 ? false : _props$disableSpacing,\n      classes = props.classes,\n      className = props.className,\n      other = _objectWithoutProperties(props, [\"disableSpacing\", \"classes\", \"className\"]);\n\n  return /*#__PURE__*/React.createElement(\"div\", _extends({\n    className: clsx(classes.root, className, !disableSpacing && classes.spacing),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardActions.propTypes = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the actions do not have additional margin.\n   */\n  disableSpacing: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiCardActions'\n})(CardActions);","import React from 'react';\r\nimport {Link} from 'react-router-dom';\r\nimport {Box, Button, Card, CardActions, CardContent, Typography, Grid} from '@material-ui/core';\r\n\r\nimport TokenSymbol from '../../components/TokenSymbol';\r\n\r\nconst MoonCard = ({bank}) => {\r\n  return (\r\n    <Grid item xs={12} md={6} lg={6}>\r\n      <Card variant=\"outlined\">\r\n        <CardContent>\r\n          <Box style={{position: 'relative'}}>\r\n            <Box\r\n              style={{\r\n                position: 'absolute',\r\n                right: '0px',\r\n                top: '-5px',\r\n                height: '48px',\r\n                width: '48px',\r\n                borderRadius: '40px',\r\n                //backgroundColor: '#fcf033',\r\n                alignItems: 'center',\r\n                display: 'flex',\r\n                justifyContent: 'center',\r\n              }}\r\n            >\r\n              <TokenSymbol size={64} symbol={bank.depositTokenName} />\r\n            </Box>\r\n            <h4>\r\n              {bank.depositTokenName}\r\n            </h4>\r\n            <h5 style={{marginTop:'10px'}}>\r\n              {/* {bank.name} */}\r\n              Deposit {bank.depositTokenName.toUpperCase()} Earn {` ${bank.earnTokenName}`}\r\n            </h5>\r\n          </Box>\r\n        </CardContent>\r\n        <CardActions style={{justifyContent: 'space-between'}}>\r\n            <Typography style={{marginLeft:'9px'}} color=\"textSecondary\">\r\n              Fee {bank.fee}%\r\n            </Typography>\r\n            <Typography style={{marginLeft:'9px'}} color=\"textSecondary\">\r\n              Allocation {bank.alloc}\r\n            </Typography>\r\n          <Button disabled color=\"primary\" style={{fontSize : '10px'}} variant=\"contained\" component={Link} to={`/tier1/${bank.contract}`}>\r\n            View\r\n          </Button>\r\n        </CardActions>\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default MoonCard;\r\n","import {useContext} from 'react';\r\nimport {Context as BanksContext} from '../contexts/Banks';\r\n\r\nconst useBanks = () => {\r\n  const {banks} = useContext(BanksContext);\r\n  return [banks];\r\n};\r\n\r\nexport default useBanks;\r\n","import React from 'react';\r\nimport { useWallet } from 'use-wallet';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport Bank from '../Bank';\r\n\r\nimport { Box, Container, Typography, Grid } from '@material-ui/core';\r\n\r\nimport { Alert } from '@material-ui/lab';\r\n\r\nimport UnlockWallet from '../../components/UnlockWallet';\r\nimport Page from '../../components/Page';\r\nimport MoonCard from './MoonCard';\r\n//import MoonImage from '../../assets/img/moon.png';\r\nimport { createGlobalStyle } from 'styled-components';\r\n\r\nimport useBanks from '../../hooks/useBanks';\r\nimport { Helmet } from 'react-helmet'\r\n\r\nimport {BackgroundImage} from '../Home/Home.js';\r\n\r\nimport Countdown from 'react-countdown';\r\nimport config from '../../config';\r\n\r\nconst TITLE = 'bnbm.finance'\r\n\r\n\r\n\r\nconst Moon = () => {\r\n  const [banks] = useBanks();\r\n  const { path } = useRouteMatch();\r\n  const { account } = useWallet();\r\n  const activeBanks = banks.filter((bank) => !bank.finished);\r\n  return (\r\n    <Switch>\r\n      <Page>\r\n\r\n        <Route exact path={path}>\r\n          <BackgroundImage />\r\n          <Helmet>\r\n            <title>{TITLE}</title>\r\n          </Helmet>\r\n          {!!account ? (\r\n            <Container maxWidth=\"lg\">\r\n              {/* <Typography color=\"textYellow\" align=\"center\" variant=\"h3\" gutterBottom>\r\n                Moon\r\n              </Typography> */}\r\n\r\n              <Box mt={5}>\r\n                <div hidden={activeBanks.filter((bank) => bank.sectionInUI === 2).length === 0}>\r\n                  <h3 style={{color:'white'}}>Earn SBNB by staking LP</h3>                  \r\n                  {/* <Alert color=\"black\" variant=\"text\" style={{fontSize : '16px', fontFamily:'eurostyleextended'}}  severity=\"info\">\r\n                    This farm will start {config.bondLaunchesAt.toUTCString()}. Starts in <Countdown date={config.bondLaunchesAt}/>\r\n                  </Alert> */}\r\n                  \r\n                  <Grid container spacing={3} >\r\n                    {activeBanks\r\n                      .filter((bank) => bank.sectionInUI === 2)\r\n                      .map((bank) => (\r\n                        <React.Fragment key={bank.name}>\r\n                          <MoonCard bank={bank} />\r\n                        </React.Fragment>\r\n                      ))}\r\n                  </Grid>\r\n                </div>\r\n\r\n                {/* <div style={{marginTop:'50px'}} hidden={activeBanks.filter((bank) => bank.sectionInUI === 1).length === 0}>\r\n                   <h3 style={{color:'white'}}>Earn BNBM by staking LP</h3>\r\n                  <Alert variant=\"text\" style={{fontSize : '16px', fontFamily:'eurostyleextended'}}  severity=\"info\">\r\n                    This farm will start {config.baseLaunchDate.toUTCString()}. Starts in <Countdown date={config.baseLaunchDate}/>\r\n                  </Alert>\r\n                  <Grid container spacing={3} >\r\n                    {activeBanks\r\n                      .filter((bank) => bank.sectionInUI === 1)\r\n                      .map((bank) => (\r\n                        <React.Fragment key={bank.name}>\r\n                          <MoonCard bank={bank} />\r\n                        </React.Fragment>\r\n                      ))}\r\n                  </Grid>\r\n                </div> */}\r\n\r\n                <div style={{marginTop:'50px'}} hidden={activeBanks.filter((bank) => bank.sectionInUI === 0).length === 0}>\r\n                  <h3 style={{color:'white'}}>Genesis Pools</h3>\r\n                  {/* <Alert variant=\"text\" style={{fontSize : '16px', fontFamily:'eurostyleextended'}}  severity=\"info\">\r\n                    This farm will start {config.baseLaunchDate.toUTCString()}. Starts in <Countdown date={config.baseLaunchDate}/>\r\n                  </Alert> */}\r\n                  {/* <Alert variant=\"filled\" severity=\"warning\">\r\n                    Genesis pools have ended. Please claim all rewards and remove funds from Genesis pools.\r\n                  </Alert> */}\r\n                  <Grid container spacing={3} >\r\n                    {activeBanks\r\n                      .filter((bank) => bank.sectionInUI === 0)\r\n                      .map((bank) => (\r\n                        <React.Fragment key={bank.name}>\r\n                          <MoonCard bank={bank} />\r\n                        </React.Fragment>\r\n                      ))}\r\n                  </Grid>\r\n                </div>\r\n              </Box>\r\n            </Container>\r\n          ) : (\r\n            <UnlockWallet />\r\n          )}\r\n        </Route>\r\n        <Route path={`${path}/:bankId`}>\r\n          <BackgroundImage />\r\n          <Bank />\r\n        </Route>\r\n      </Page>\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default Moon;\r\n","import {BigNumber, ethers} from 'ethers';\r\nimport {useCallback, useMemo} from 'react';\r\nimport {useHasPendingApproval, useTransactionAdder} from '../state/transactions/hooks';\r\nimport useAllowance from './useAllowance';\r\nimport ERC20 from '../bnbm-finance/ERC20';\r\n\r\nconst APPROVE_AMOUNT = ethers.constants.MaxUint256;\r\nconst APPROVE_BASE_AMOUNT = BigNumber.from('1000000000000000000000000');\r\n\r\nexport enum ApprovalState {\r\n  UNKNOWN,\r\n  NOT_APPROVED,\r\n  PENDING,\r\n  APPROVED,\r\n}\r\n\r\n// returns a variable indicating the state of the approval and a function which approves if necessary or early returns\r\nfunction useApprove(token: ERC20, spender: string): [ApprovalState, () => Promise<void>] {\r\n  const pendingApproval = useHasPendingApproval(token.address, spender);\r\n  const currentAllowance = useAllowance(token, spender, pendingApproval);\r\n\r\n  // check the current approval status\r\n  const approvalState: ApprovalState = useMemo(() => {\r\n    // we might not have enough data to know whether or not we need to approve\r\n    if (!currentAllowance) return ApprovalState.UNKNOWN;\r\n\r\n    // amountToApprove will be defined if currentAllowance is\r\n    return currentAllowance.lt(APPROVE_BASE_AMOUNT)\r\n      ? pendingApproval\r\n        ? ApprovalState.PENDING\r\n        : ApprovalState.NOT_APPROVED\r\n      : ApprovalState.APPROVED;\r\n  }, [currentAllowance, pendingApproval]);\r\n\r\n  const addTransaction = useTransactionAdder();\r\n\r\n  const approve = useCallback(async (): Promise<void> => {\r\n    if (approvalState !== ApprovalState.NOT_APPROVED) {\r\n      console.error('approve was called unnecessarily');\r\n      return;\r\n    }\r\n\r\n    const response = await token.approve(spender, APPROVE_AMOUNT);\r\n    addTransaction(response, {\r\n      summary: `Approve ${token.symbol}`,\r\n      approval: {\r\n        tokenAddress: token.address,\r\n        spender: spender,\r\n      },\r\n    });\r\n  }, [approvalState, token, spender, addTransaction]);\r\n\r\n  return [approvalState, approve];\r\n}\r\n\r\nexport default useApprove;\r\n","import React from 'react';\r\nimport {Box} from '@material-ui/core';\r\nimport AccountButton from '../Nav/AccountButton';\r\n\r\nconst UnlockWallet = () => {\r\n  return (\r\n    <Box style={{position: 'absolute', top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>\r\n      <AccountButton />\r\n      {/* <Button color=\"primary\" variant=\"contained\" onClick={() => connect('injected')}>Unlock Wallet</Button> */}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default UnlockWallet;\r\n","import React, {useContext} from 'react';\r\nimport styled, {ThemeContext} from 'styled-components';\r\n\r\ninterface SpacerProps {\r\n  size?: 'sm' | 'md' | 'lg';\r\n}\r\n\r\nconst Spacer: React.FC<SpacerProps> = ({size = 'md'}) => {\r\n  const {spacing} = useContext(ThemeContext);\r\n\r\n  let s: number;\r\n  switch (size) {\r\n    case 'lg':\r\n      s = spacing[6];\r\n      break;\r\n    case 'sm':\r\n      s = spacing[2];\r\n      break;\r\n    case 'md':\r\n    default:\r\n      s = spacing[4];\r\n  }\r\n\r\n  return <StyledSpacer size={s} />;\r\n};\r\n\r\ninterface StyledSpacerProps {\r\n  size: number;\r\n}\r\n\r\nconst StyledSpacer = styled.div<StyledSpacerProps>`\r\n  height: ${(props) => props.size}px;\r\n  width: ${(props) => props.size}px;\r\n`;\r\n\r\nexport default Spacer;\r\n","import React from 'react';\r\n\r\nimport styled from 'styled-components';\r\n\r\ninterface ValueProps {\r\n  value: string;\r\n}\r\n\r\nconst Value: React.FC<ValueProps> = ({value}) => {\r\n  return <StyledValue>{value}</StyledValue>;\r\n};\r\n\r\nconst StyledValue = styled.div`\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n`;\r\n\r\nexport default Value;\r\n"],"sourceRoot":""}